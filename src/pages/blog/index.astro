---
import { getCollection } from 'astro:content'
import BaseLayout from '@/layouts/BaseLayout'

// Fetch all blog posts from the `blog` collection
const posts = await getCollection('blog')
---

<html>
	<head>
		<title>Blog Directory</title>
	</head>
	<body>
		<h1>Blog Posts</h1>
		<ul>
			{
				posts.map((post) => (
					<li>
						<a href={`/blog/${post.slug}`}>{post.data.title}</a>
					</li>
				))
			}
		</ul>
	</body>
</html>
